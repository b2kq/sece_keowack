<EnterpriseApplication>
<!-- check ACLs, what is still needed? Change principal name to app name -->
	<Sonic>
		<JMSObjects>
<!-- should we remove this principal? 
			<FactoryUser>USGEasdfsCMWAS</FactoryUser>
			<FactoryPW>dTk4WsdfasdDNZMDI=</FactoryPW>
-->
			<FactoryUser>XAGApp_WAS</FactoryUser>
			<FactoryPW>UnRnViRAazY=</FactoryPW>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>topic</ResourceType>
				<ResourceName>com.kahg.eai.ami.acordQuote.entry</ResourceName>
				<Permission>grant</Permission>
				<Action>publish</Action>
			</ACL>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>topic</ResourceType>
				<ResourceName>com.kahg.eai.ami.acordQuote.entry</ResourceName>
				<Permission>grant</Permission>
				<Action>subscribe</Action>
			</ACL>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>queue</ResourceType>
				<ResourceName>com.kahg.eai.ami.agency.xml.entry</ResourceName>
				<Permission>grant</Permission>
				<Action>Send</Action>
			</ACL>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>queue</ResourceType>
				<ResourceName>com.kahg.eai.ami.agency.xml.rme</ResourceName>
				<Permission>grant</Permission>
				<Action>Send</Action>
			</ACL>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>topic</ResourceType>
				<ResourceName>com.kahg.loc.locationservice.entry</ResourceName>
				<Permission>grant</Permission>
				<Action>publish</Action>
			</ACL>
			<ACL>
				<Principal>XAGApp_WAS</Principal>
				<ResourceType>topic</ResourceType>
				<ResourceName>com.kahg.loc.locationservice.entry</ResourceName>
				<Permission>grant</Permission>
				<Action>subscribe</Action>
			</ACL>
		</JMSObjects>
	</Sonic>
	<ear-info>
		<ear-name>XAGApp.ear</ear-name>
		<app-name>XAGApp</app-name>
	</ear-info>
	<mod-info>
		<module>
			<web>
				<war-file-name>XAGAMIService.war</war-file-name>
				<display-name>XAGAMIService</display-name>
				<virtual-host>default_host</virtual-host>
				<server-name>xmlint-eCalypso-com</server-name>
			</web>
		</module>
		<!-- removed XAGClaimsService.war is replaced by ClaimsISOGateway -->
		<module>
			<web>
				<war-file-name>XAGTXTownCodeService.war</war-file-name>
				<display-name>XAGTXTownCodeService</display-name>
				<virtual-host>default_host</virtual-host>
				<server-name>xmlint-eCalypso-com</server-name>
			</web>
		</module>
		<module>
			<web>
				<war-file-name>XAGProducerService.war</war-file-name>
				<display-name>XAGProducerService</display-name>
				<virtual-host>default_host</virtual-host>
				<server-name>xmlint-eCalypso-com</server-name>
			</web>
		</module>
		<module>
			<web>
				<war-file-name>XAGService.war</war-file-name>
				<display-name>XAGService</display-name>
				<virtual-host>default_host</virtual-host>
				<server-name>xmlint-eCalypso-com</server-name>
			</web>
		</module>
		<module>
			<web>
				<war-file-name>XAGTokenEntryService.war</war-file-name>
				<display-name>XAGTokenEntryService</display-name>
				<virtual-host>default_host</virtual-host>
				<server-name>xmlint-eCalypso-com</server-name>
			</web>
		</module>
	</mod-info>
	<Security>
	  <J2CAuthData>
			<J2C>
				<Alias>XAGApp_SQL_Agc_Intfc_XML</Alias>
				<Username>agc_intfc_xml_admin_user</Username>
				<Password>Ag3ncysadf#Adm1n</Password>
			</J2C>
			<J2C>
				<Alias>XAGApp_UDB_KRPW6INT</Alias>
				<Username>CDSET</Username>
				<Password>40TSETwdfdsfpR</Password>
			</J2C>
			<J2C>
				<Alias>XAGApp_SONIC_CF</Alias>
<!-- change the user to follow new naming convention
				<Username>KAHAMI</Username>
				<Password>dzB04psadf%776</Password>
-->
				<Username>XAGApp_WAS</Username>
				<Password>RtgV$sdaf@k6</Password>
			</J2C>

	</J2CAuthData>	
	</Security>
	<Node>
		<NodeName>was721aINT64V85</NodeName>
		<NodeName>was721bINT64V85</NodeName>
	</Node>
	<ApplicationServer>
		<ClusterName>XAG</ClusterName>
		<Instances>
			<Server>
				<EndPoints>
					<PortItem>
						<PortName>WC_defaulthost</PortName>
						<Port>9125</Port>
					</PortItem>
				</EndPoints>
				<WebContainer>
					<SessionManagement>
						<CookieName>JSESSIONID</CookieName>
						<SessionTimeout>2</SessionTimeout>
						<DistributedSessionType>NONE</DistributedSessionType>
					</SessionManagement>
				</WebContainer>
				<JavaVirtualMachine>
					<VerboseGarbageCollection>FALSE</VerboseGarbageCollection>
					<InitialHeapSize>256</InitialHeapSize>
					<MaximumHeapSize>1024</MaximumHeapSize>
					<GenericJVMArguments>-javaagent:wily/Agent.jar -Dcom.wily.introscope.agentProfile=wily/core/config/IntroscopeAgent.profile -Dcom.wily.introscope.agent.agentName=${WAS_SERVER_NAME} -Xverify:none</GenericJVMArguments>
				</JavaVirtualMachine>
				<MonitoringPolicy>
					<maximumStartupAttempts>3</maximumStartupAttempts>
					<pingInterval>60</pingInterval>
					<pingTimeout>300</pingTimeout>
					<autoRestart>true</autoRestart>
					<serverRestartState>RUNNING</serverRestartState>
				</MonitoringPolicy>
				<CustomServices>
					<CustomService>
						<EnableStartup>true</EnableStartup>
						<Classname>com.wily.introscope.api.websphere.IntroscopeCustomService</Classname>
						<DisplayName>Introscope Custom Service</DisplayName>
						<Description>Wily Introscope</Description>
						<Classpath>wily/common/WebAppSupport.jar</Classpath>
					</CustomService>
				</CustomServices>
				<JVMLogs>
					<SystemOut>
						<JVMLogsSystemOutFileFormat>BASIC</JVMLogsSystemOutFileFormat>
						<JVMLogsSystemOutRolloverType>BOTH</JVMLogsSystemOutRolloverType>
						<JVMLogsSystemOutNumberOfBackupFiles>5</JVMLogsSystemOutNumberOfBackupFiles>
						<JVMLogsSystemOutRolloverSize>50</JVMLogsSystemOutRolloverSize>
						<JVMLogsSystemOutBaseHour>24</JVMLogsSystemOutBaseHour>
						<JVMLogsSystemOutRolloverPeriod>24</JVMLogsSystemOutRolloverPeriod>
						<JVMLogsSystemOutFormatWrites>true</JVMLogsSystemOutFormatWrites>
						<JVMLogsSystemOutsuppresWrites>false</JVMLogsSystemOutsuppresWrites>
						<JVMLogsSystemOutsuppressStackTrace>false</JVMLogsSystemOutsuppressStackTrace>
					</SystemOut>
					<SystemError>
						<JVMLogsSystemErrorFileFormat>BASIC</JVMLogsSystemErrorFileFormat>
						<JVMLogsSystemErrorRolloverType>BOTH</JVMLogsSystemErrorRolloverType>
						<JVMLogsSystemErrorNumberOfBackupFiles>5</JVMLogsSystemErrorNumberOfBackupFiles>
						<JVMLogsSystemErrorRolloverSize>50</JVMLogsSystemErrorRolloverSize>
						<JVMLogsSystemErrorBaseHour>24</JVMLogsSystemErrorBaseHour>
						<JVMLogsSystemErrorRolloverPeriod>24</JVMLogsSystemErrorRolloverPeriod>
						<JVMLogsSystemErrorFormatWrites>true</JVMLogsSystemErrorFormatWrites>
						<JVMLogsSystemErrorsuppresWrites>false</JVMLogsSystemErrorsuppresWrites>
						<JVMLogsSystemErrorsuppressStackTrace>false</JVMLogsSystemErrorsuppressStackTrace>
					</SystemError>
				</JVMLogs>
			</Server>
		</Instances>
	</ApplicationServer>
	<ClusterResources>
		<JMS>
			<Provider>
				<Name>SonicMQ</Name>
				<ClassPath>${SONIC_CLASSPATH}</ClassPath>
				<ExtInitCtxFactory>com.sonicsw.jndi.mfcontext.MFContextFactory</ExtInitCtxFactory>
				<ExtProviderURL>${SONIC_DOMAINMGR_URL}</ExtProviderURL>
				<CustomProperties>
					<Property>
						<Name>com.sonicsw.jndi.mfcontext.idleTimeout</Name>
						<Value>6000</Value>
					</Property>
					<Property>
						<Name>com.sonicsw.jndi.mfcontext.domain</Name>
						<Value>KAHDomain</Value>
					</Property>
					<Property>
						<Name>java.naming.security.principal</Name>
						<Value>WAS8Client</Value>
					</Property>
					<Property>
						<Name>java.naming.security.credentials</Name>
						<Value>USGClient</Value>
					</Property>
				</CustomProperties>
				<ConnectionFactory>
					<Name>AMIConnectionFactory</Name>
					<Type>UNIFIED</Type>
					<JNDI>jms/AMIConnectionFactory</JNDI>
					<!-- <ExtJNDI>AMIConnectionFactory</ExtJNDI> -->
					<ExtJNDI>USGConnectionFactory</ExtJNDI>
					<ComponentManagedAuthAlias>XAGApp_SONIC_CF</ComponentManagedAuthAlias>
				</ConnectionFactory>
				<ConnectionFactory>
					<Name>USGTopicConnectionFactory</Name>
					<Type>TOPIC</Type>
					<JNDI>jms/USGTopicConnectionFactory</JNDI>
					<ExtJNDI>USGTopicConnectionFactory</ExtJNDI>
					<ComponentManagedAuthAlias>XAGApp_SONIC_CF</ComponentManagedAuthAlias>
				</ConnectionFactory>
				<JMSDestination>
					<Name>AgencyXMLQueue</Name>
					<Type>QUEUE</Type>
					<JNDI>jms/AgencyXMLQueue</JNDI>
					<ExtJNDI>AMI.AgencyXML.Entry</ExtJNDI>
				</JMSDestination>
				<JMSDestination>
					<Name>AcordQuoteEntry</Name>
					<Type>TOPIC</Type>
					<JNDI>jms/AcordQuoteEntry</JNDI>
					<ExtJNDI>AgencyInterface.AcordQuote.Entry</ExtJNDI>
				</JMSDestination>
			</Provider>
		</JMS>		
	<JDBCResources>
		<DB2Provider>
			<ProviderName>DB2_JDBC_PROVIDER</ProviderName>
				<DataSource>
					<DataSourceName>XAGApp_KRPW6INT</DataSourceName>
					<DataSourceJNDIName>jdbc/rpw6ds</DataSourceJNDIName>
					<ComponentManagedAuthAlias>XAGApp_UDB_KRPW6INT</ComponentManagedAuthAlias>
					<DataBaseName>KRPW6INT</DataBaseName>
					<DataBaseDriverType>4</DataBaseDriverType>
					<DataBaseServerName>kahobtudb90.kah.Calypsoinc.com</DataBaseServerName>
					<PortNumber>3751</PortNumber>
					<ConnectionPoolProperties>
						<ConnectionPoolTimeout>45</ConnectionPoolTimeout>
						<ConnectionPoolMaxConnections>15</ConnectionPoolMaxConnections>
						<ConnectionPoolMinConnections>0</ConnectionPoolMinConnections>
						<ConnectionPoolReapTime>45</ConnectionPoolReapTime>
						<ConnectionPoolUnusedTimeout>45</ConnectionPoolUnusedTimeout>
						<ConnectionPoolagedTimeout>0</ConnectionPoolagedTimeout>
						<ConnectionPoolPurgePolicy>EntirePool</ConnectionPoolPurgePolicy>
					</ConnectionPoolProperties>
					<WASDataSourceProperties>
						<StatementCacheSize>10</StatementCacheSize>
						<PretestSQLString>SELECT 1 FROM SYSIBM.SYSDUMMY1</PretestSQLString>
						<PretestConnectionEnable>NO</PretestConnectionEnable>
					</WASDataSourceProperties>
				</DataSource>
              </DB2Provider>
			<SQLProvider>
				<ProviderName>SQL_JDBC_PROVIDER</ProviderName>
				<DataSource>
					<DataSourceName>XAGApp_Agc_Intfc_XML</DataSourceName>
					<DataSourceJNDIName>jdbc/xmldbds</DataSourceJNDIName>
					<ComponentManagedAuthAlias>XAGApp_SQL_Agc_Intfc_XML</ComponentManagedAuthAlias>
					<DataBaseName>Agc_Intfc_XML</DataBaseName>
					<DataBaseServerName>usgobtsql920a.Calypsoinc.Calypso.org</DataBaseServerName>
					<PortNumber>1666</PortNumber>
					<ConnectionPoolProperties>
						<ConnectionPoolTimeout>45</ConnectionPoolTimeout>
						<ConnectionPoolMaxConnections>35</ConnectionPoolMaxConnections>
						<ConnectionPoolMinConnections>7</ConnectionPoolMinConnections>
						<ConnectionPoolReapTime>45</ConnectionPoolReapTime>
						<ConnectionPoolUnusedTimeout>45</ConnectionPoolUnusedTimeout>
						<ConnectionPoolagedTimeout>0</ConnectionPoolagedTimeout>
						<ConnectionPoolPurgePolicy>EntirePool</ConnectionPoolPurgePolicy>
					</ConnectionPoolProperties>
					<WASDataSourceProperties>
						<StatementCacheSize>10</StatementCacheSize>
						<PretestSQLString>SELECT @@ SERVERNAME</PretestSQLString>
						<PretestConnectionEnable>NO</PretestConnectionEnable>
					</WASDataSourceProperties>
				</DataSource>
			</SQLProvider>
		</JDBCResources>
		<MailResources>
			<MailSessions>
				<MailSessionName>mailSession</MailSessionName>
				<MailSessionJNDIName>mail/xagmail</MailSessionJNDIName>
				<MailTransportHost>smtprelay</MailTransportHost>
				<MailTransportUserID></MailTransportUserID>
				<MailTransportPassword></MailTransportPassword>
				<MailFromAddress>NoReply@eCalypso.com</MailFromAddress>
			</MailSessions>
		</MailResources>
		<URLResources>
			<URL>
				<URLName>XAGEnvironment.xml</URLName>    
				<URLJNDIName>url/xagenvironment.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGService.war/WEB-INF/classes/Environment.${deployEnv}.xml</URLSpec>
				<URLDesc>XAG Environment</URLDesc>    
			</URL>
			<URL>
				<URLName>XAGProperty.xml</URLName>    
				<URLJNDIName>url/xagproperty.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGService.war/WEB-INF/classes/Property.xml</URLSpec>
				<URLDesc>XAG Property</URLDesc>    
			</URL>
			<URL>
				<URLName>XAGAMIEnvironment.xml</URLName>    
				<URLJNDIName>url/amienvironment.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGAMIService.war/WEB-INF/classes/Environment.${deployEnv}.xml</URLSpec>
				<URLDesc>XAG-AMI Environment</URLDesc>    
			</URL>
			<URL>
				<URLName>XAGAMIProperty.xml</URLName>    
				<URLJNDIName>url/amiproperty.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGAMIService.war/WEB-INF/classes/Property.xml</URLSpec>
				<URLDesc>XAG-AMI Property</URLDesc>
			</URL>
			<URL>
				<URLName>ProducerEnvironment.xml</URLName>
				<URLJNDIName>url/producerenvironment.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGProducerService.war/WEB-INF/classes/Environment.${deployEnv}.xml</URLSpec>
				<URLDesc>XAG-AMI Environment</URLDesc>
			</URL>
			<URL>
				<URLName>ProducerProperty.xml</URLName>
				<URLJNDIName>url/producerproperty.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGProducerService.war/WEB-INF/classes/Property.xml</URLSpec>
				<URLDesc>XAG-AMI Property</URLDesc>
			</URL>
			<URL>
				<URLName>TXTownCodeEnvironment</URLName>
				<URLJNDIName>url/txtowncdenvironment.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGTXTownCodeService.war/WEB-INF/classes/Environment.${deployEnv}.xml</URLSpec>
				<URLDesc>TX Town Code Environment Property</URLDesc>
			</URL>
			<URL>
				<URLName>TXTownCodeProperty</URLName>
				<URLJNDIName>url/txtowncdproperty.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGTXTownCodeService.war/WEB-INF/classes/Property.xml</URLSpec>
				<URLDesc>TX Town Code Property</URLDesc>
			</URL>
			<URL>
				<URLName>XAGTokenEntryEnvironment</URLName>
				<URLJNDIName>url/tokenentryenvironment.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGTokenEntryService.war/WEB-INF/classes/Environment.${deployEnv}.xml</URLSpec>
				<URLDesc>XAG TokenEntry Env</URLDesc>
			</URL>	
			<URL>
				<URLName>XAGTokenEntryProperty</URLName>
				<URLJNDIName>url/tokenentryproperty.xml</URLJNDIName>
				<URLSpec>file:///${APP_INSTALL_ROOT}/${WAS_CELL_NAME}/XAGApp.ear/XAGTokenEntryService.war/WEB-INF/classes/Property.xml</URLSpec>
				<URLDesc>XAG TokenEntry Property</URLDesc>
			</URL>
		</URLResources>
  		<NameSpaceBindings>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>IDMLDAPServer0</NameSpaceIdentifier>
				<NameSpaceName>config/IDMLDAPServer0</NameSpaceName>
				<NameSpaceStringValue>ldap://ldap1-int.Calypsoi.com:12345/</NameSpaceStringValue>
			</NameSpace>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>IDMLDAPServer1</NameSpaceIdentifier>
				<NameSpaceName>config/IDMLDAPServer1</NameSpaceName>
				<NameSpaceStringValue>ldap://ldap2-int.Calypsoi.com:12345/</NameSpaceStringValue>
			</NameSpace>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>IDMLDAPPWD</NameSpaceIdentifier>
				<NameSpaceName>config/IDMLDAPPWD</NameSpaceName>
				<NameSpaceStringValue>ZBWIgfdfsdfsadfDM1</NameSpaceStringValue>
			</NameSpace>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>IDMLDAPUID</NameSpaceIdentifier>
				<NameSpaceName>config/IDMLDAPUID</NameSpaceName>
				<NameSpaceStringValue>uid=KAHZsadfBW,ou=employees,dc=kah,dc=com</NameSpaceStringValue>
			</NameSpace>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>IDMLDAPTO</NameSpaceIdentifier>
				<NameSpaceName>config/IDMLDAPTO</NameSpaceName>
				<NameSpaceStringValue>600000</NameSpaceStringValue>
			</NameSpace>
			<NameSpace>
				<NameSpaceType>String</NameSpaceType>
				<NameSpaceIdentifier>ProducerServiceEndpoint</NameSpaceIdentifier>
				<NameSpaceName>config/ProducerServiceEndPoint</NameSpaceName>
				<NameSpaceStringValue>http://svcsint-producer.Calypsoi.com/ProducerService/services/ProducerService</NameSpaceStringValue>
			</NameSpace>
		</NameSpaceBindings>
	</ClusterResources>
</EnterpriseApplication>